{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nvar _excluded = [\"prefixCls\", \"className\", \"color\", \"colors\", \"style\", \"rectProps\", \"onChange\", \"addonAfter\", \"addonBefore\", \"rectRender\"];\nimport React from 'react';\nimport { hexToHsva } from '@uiw/color-convert';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Swatch = /*#__PURE__*/React.forwardRef((props, ref) => {\n  var {\n    prefixCls = 'w-color-swatch',\n    className,\n    color,\n    colors = [],\n    style,\n    rectProps = {},\n    onChange,\n    addonAfter,\n    addonBefore,\n    rectRender\n  } = props,\n      other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var rectStyle = _extends({\n    background: 'rgb(144, 19, 254)',\n    height: 15,\n    width: 15,\n    marginRight: 5,\n    marginBottom: 5,\n    cursor: 'pointer',\n    position: 'relative',\n    outline: 'none',\n    borderRadius: 2\n  }, rectProps.style);\n\n  var handleClick = hex => {\n    onChange && onChange(hexToHsva(hex));\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", _extends({\n    ref: ref\n  }, other, {\n    className: [prefixCls, className || ''].filter(Boolean).join(' '),\n    style: _extends({\n      display: 'flex',\n      flexWrap: 'wrap',\n      position: 'relative'\n    }, style),\n    children: [addonBefore && /*#__PURE__*/React.isValidElement(addonBefore) && addonBefore, colors && Array.isArray(colors) && colors.map((item, idx) => {\n      var title = '';\n      var background = '';\n\n      if (typeof item === 'string') {\n        title = item;\n        background = item;\n      }\n\n      if (typeof item === 'object' && item.color) {\n        title = item.title || item.color;\n        background = item.color;\n      }\n\n      var checked = color && color.toLocaleLowerCase() === background.toLocaleLowerCase();\n\n      if (rectRender) {\n        return rectRender({\n          key: idx,\n          title,\n          color: background,\n          checked: !!checked,\n          style: _extends({}, rectStyle, {\n            background\n          }),\n          onClick: () => handleClick(background)\n        });\n      }\n\n      var child = rectProps.children && /*#__PURE__*/React.isValidElement(rectProps.children) ? /*#__PURE__*/React.cloneElement(rectProps.children, {\n        color: background,\n        checked\n      }) : null;\n      return /*#__PURE__*/_jsx(\"div\", _extends({\n        tabIndex: 0,\n        title: title,\n        onClick: () => handleClick(background)\n      }, rectProps, {\n        children: child,\n        style: _extends({}, rectStyle, {\n          background\n        })\n      }), idx);\n    }), addonAfter && /*#__PURE__*/React.isValidElement(addonAfter) && addonAfter]\n  }));\n});\nSwatch.displayName = 'Swatch';\nexport default Swatch;","map":{"version":3,"sources":["../src/index.tsx"],"names":["Swatch","prefixCls","colors","rectProps","rectRender","other","rectStyle","background","height","width","marginRight","marginBottom","cursor","position","outline","borderRadius","handleClick","hex","onChange","hexToHsva","ref","className","display","flexWrap","addonBefore","React","Array","title","item","checked","color","key","style","onClick","child","addonAfter"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { HsvaColor, hexToHsva } from '@uiw/color-convert';\n\nexport type SwatchPresetColor = { color: string; title?: string } | string;\nexport type SwatchRectRenderProps = {\n  key: string | number;\n  title: string;\n  color: string;\n  checked: boolean;\n  style: React.CSSProperties;\n  onClick: (evn: React.MouseEvent<HTMLDivElement, MouseEvent>) => void;\n};\nexport interface SwatchProps extends Omit<React.HTMLAttributes<HTMLDivElement>, 'onChange' | 'color'> {\n  prefixCls?: string;\n  color?: string;\n  colors?: SwatchPresetColor[];\n  rectProps?: React.HTMLAttributes<HTMLDivElement>;\n  rectRender?: (props: SwatchRectRenderProps) => JSX.Element;\n  onChange?: (hsva: HsvaColor) => void;\n  addonAfter?: React.ReactNode;\n  addonBefore?: React.ReactNode;\n}\n\nconst Swatch = React.forwardRef<HTMLDivElement, SwatchProps>((props, ref) => {\n  const {\n    prefixCls = 'w-color-swatch',\n    className,\n    color,\n    colors = [],\n    style,\n    rectProps = {},\n    onChange,\n    addonAfter,\n    addonBefore,\n    rectRender,\n    ...other\n  } = props;\n  const rectStyle: React.CSSProperties = {\n    background: 'rgb(144, 19, 254)',\n    height: 15,\n    width: 15,\n    marginRight: 5,\n    marginBottom: 5,\n    cursor: 'pointer',\n    position: 'relative',\n    outline: 'none',\n    borderRadius: 2,\n    ...rectProps.style,\n  };\n  const handleClick = (hex: string) => {\n    onChange && onChange(hexToHsva(hex));\n  };\n  return (\n    <div\n      ref={ref}\n      {...other}\n      className={[prefixCls, className || ''].filter(Boolean).join(' ')}\n      style={{\n        display: 'flex',\n        flexWrap: 'wrap',\n        position: 'relative',\n        ...style,\n      }}\n    >\n      {addonBefore && React.isValidElement(addonBefore) && addonBefore}\n      {colors &&\n        Array.isArray(colors) &&\n        colors.map((item, idx) => {\n          let title = '';\n          let background = '';\n          if (typeof item === 'string') {\n            title = item;\n            background = item;\n          }\n          if (typeof item === 'object' && item.color) {\n            title = item.title || item.color;\n            background = item.color;\n          }\n          const checked = color && color.toLocaleLowerCase() === background.toLocaleLowerCase();\n          if (rectRender) {\n            return rectRender({\n              key: idx,\n              title,\n              color: background,\n              checked: !!checked,\n              style: { ...rectStyle, background },\n              onClick: () => handleClick(background),\n            });\n          }\n          const child =\n            rectProps.children && React.isValidElement(rectProps.children)\n              ? React.cloneElement(rectProps.children, {\n                  color: background,\n                  checked,\n                })\n              : null;\n          return (\n            <div\n              tabIndex={0}\n              key={idx}\n              title={title}\n              onClick={() => handleClick(background)}\n              {...rectProps}\n              children={child}\n              style={{ ...rectStyle, background }}\n            />\n          );\n        })}\n      {addonAfter && React.isValidElement(addonAfter) && addonAfter}\n    </div>\n  );\n});\n\nSwatch.displayName = 'Swatch';\n\nexport default Swatch;\n"]},"metadata":{},"sourceType":"module"}