{"ast":null,"code":"var _jsxFileName = \"/Users/oyejin/Surfee/kiwi/src/components/Make/Edit/NavFooterSetting/EditContents.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport { MyContext } from '../../../../pages/Make/MakePageV2';\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport produce from 'immer';\nimport ConfirmCustom from '../../../../tools/ConfirmCustom';\nimport AddingSection from '../../Modal/AddingSection';\nimport './EditContents.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BCOLOR = 'rgba(230,230,230,0.8)';\n\nconst getItemStyle = (isDragging, draggableStyle, backColor) => {\n  return {\n    userSelect: \"none\",\n    textAlign: \"right\",\n    // change background color if dragging\n    background: isDragging ? \"white\" : BCOLOR,\n    boxShadow: isDragging ? \"2px 2px 3px rgba(0,0,0,0.2)\" : 'none',\n    // styles we need to apply on draggables\n    ...draggableStyle\n  };\n};\n\nfunction EditContents({\n  navi,\n  setNavi,\n  foot,\n  setFoot\n}) {\n  _s();\n\n  const {\n    state,\n    action\n  } = useContext(MyContext); //ContextAPI로 state와 action을 넘겨받는다.\n\n  const [deleteopen, setDeleteOpen] = useState(false);\n  const [addOpen, setAddOpen] = useState(false);\n\n  const handleChange = result => {\n    if (!result.destination) return;\n    action.setContents(produce(state.contents, draft => {\n      const [reorderedItem] = draft.splice(result.source.index, 1);\n      draft.splice(result.destination.index, 0, reorderedItem);\n    }));\n  };\n\n  const optionButton = num => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content__button\",\n      onClick: () => {\n        action.setSecNum(num);\n      },\n      children: \"\\uC124\\uC815\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this);\n  };\n\n  const deleteSection = index => {\n    console.log(\"index\", index);\n\n    if (index === 0) {\n      action.setContents([...state.contents.slice(1, state.contents.length)]);\n    }\n\n    if (index === state.contents.length) {\n      action.setContents([...state.contents.slice(0, index - 1)]);\n    } else {\n      action.setContents([...state.contents.slice(0, index), ...state.contents.slice(index + 1, state.contents.length)]);\n    }\n  };\n\n  const pasteThisSection = (content, index) => {\n    action.setContents([...state.contents.slice(0, index), content, ...state.contents.slice(index, state.contents.length)]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edit-element\",\n      children: \"\\uCEE8\\uD150\\uCE20 \\uC218\\uC815\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"one-contents-draggable\",\n        style: {\n          backgroundColor: `${BCOLOR}`\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"center-row hoverback one-contents__inner\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"left\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"content__name\",\n              children: \"\\uB124\\uBE44 \\uBC14\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: navi.use,\n                value: navi.use,\n                onChange: e => setNavi(produce(navi, draft => {\n                  draft.use = !navi.use;\n                }))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"right\",\n            children: optionButton(50)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"hr\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DragDropContext, {\n        onDragEnd: handleChange,\n        children: /*#__PURE__*/_jsxDEV(Droppable, {\n          droppableId: \"sectionsss\",\n          children: provided => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sectionsss\",\n            ...provided.droppableProps,\n            ref: provided.innerRef,\n            children: [state.contents.map((item, index) => {\n              return /*#__PURE__*/_jsxDEV(Draggable, {\n                draggableId: String(index),\n                index: index,\n                style: {\n                  width: '100%'\n                },\n                children: (provided, snapshot) => {\n                  return /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"one-contents-draggable\",\n                      ref: provided.innerRef,\n                      ...provided.dragHandleProps,\n                      ...provided.draggableProps,\n                      style: getItemStyle(snapshot.isDragging, provided.draggableProps.style),\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"center-row hoverback one-contents__inner\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"left\",\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"content__name\",\n                            children: item.sectionTypeName\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 125,\n                            columnNumber: 73\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 124,\n                          columnNumber: 69\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"right\",\n                          children: [optionButton(index), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"content__button delete\",\n                            onClick: () => {\n                              const yes = window.confirm(\"정말 삭제하시겠습니까?\");\n\n                              if (yes) {\n                                deleteSection(index);\n                              }\n                            },\n                            children: \"\\uC0AD\\uC81C\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 131,\n                            columnNumber: 73\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"content__button\",\n                            onClick: () => pasteThisSection(state.contents[index], index),\n                            children: \"\\uBCF5\\uC81C\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 140,\n                            columnNumber: 73\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 129,\n                          columnNumber: 69\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 123,\n                        columnNumber: 65\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 113,\n                      columnNumber: 57\n                    }, this)\n                  }, void 0, false);\n                }\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 41\n              }, this);\n            }), provided.placeholder]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"center-row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"make-section-button\",\n          onClick: () => {\n            setAddOpen(true); // action.setAddingSectionAt(state.contents.length - 1);\n          },\n          children: \"+ \\uC139\\uC158 \\uCD94\\uAC00\\uD558\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"hr\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"one-contents-draggable\",\n        style: {\n          backgroundColor: `${BCOLOR}`\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"center-row hoverback one-contents__inner\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"left\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"content__name\",\n              children: \"\\uD478\\uD130 \\uBC14\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: foot.use,\n                value: foot.use,\n                onChange: e => setFoot(produce(foot, draft => {\n                  draft.use = !foot.use;\n                }))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"right\",\n            children: optionButton(51)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(AddingSection, {\n      open: addOpen,\n      setOpen: setAddOpen\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this);\n}\n\n_s(EditContents, \"BA4fZpCSrzxupePoCD3f8aGq0fA=\");\n\n_c = EditContents;\nexport default EditContents;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditContents\");","map":{"version":3,"sources":["/Users/oyejin/Surfee/kiwi/src/components/Make/Edit/NavFooterSetting/EditContents.js"],"names":["React","useContext","useState","MyContext","DragDropContext","Droppable","Draggable","produce","ConfirmCustom","AddingSection","BCOLOR","getItemStyle","isDragging","draggableStyle","backColor","userSelect","textAlign","background","boxShadow","EditContents","navi","setNavi","foot","setFoot","state","action","deleteopen","setDeleteOpen","addOpen","setAddOpen","handleChange","result","destination","setContents","contents","draft","reorderedItem","splice","source","index","optionButton","num","setSecNum","deleteSection","console","log","slice","length","pasteThisSection","content","backgroundColor","use","e","provided","droppableProps","innerRef","map","item","String","width","snapshot","dragHandleProps","draggableProps","style","sectionTypeName","yes","window","confirm","placeholder"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,UAAf,EAA2BC,QAA3B,QAA0C,OAA1C;AACA,SAASC,SAAT,QAA0B,mCAA1B;AACA,SAASC,eAAT,EAA0BC,SAA1B,EAAqCC,SAArC,QAAsD,qBAAtD;AACA,OAAOC,OAAP,MAAoB,OAApB;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,aAAP,MAA0B,2BAA1B;AACA,OAAO,oBAAP;;;AAEA,MAAMC,MAAM,GAAG,uBAAf;;AAEA,MAAMC,YAAY,GAAG,CAACC,UAAD,EAAaC,cAAb,EAA6BC,SAA7B,KAA2C;AAC5D,SAAO;AACHC,IAAAA,UAAU,EAAE,MADT;AAEHC,IAAAA,SAAS,EAAE,OAFR;AAIH;AACAC,IAAAA,UAAU,EAAEL,UAAU,GAAG,OAAH,GAAaF,MALhC;AAMHQ,IAAAA,SAAS,EAAEN,UAAU,GAAG,6BAAH,GAAmC,MANrD;AAQH;AACA,OAAGC;AATA,GAAP;AAWH,CAZD;;AAcA,SAASM,YAAT,CAAsB;AAACC,EAAAA,IAAD;AAAOC,EAAAA,OAAP;AAAgBC,EAAAA,IAAhB;AAAsBC,EAAAA;AAAtB,CAAtB,EAAsD;AAAA;;AAClD,QAAM;AAACC,IAAAA,KAAD;AAAQC,IAAAA;AAAR,MAAkBxB,UAAU,CAACE,SAAD,CAAlC,CADkD,CACJ;;AAC9C,QAAM,CAACuB,UAAD,EAAaC,aAAb,IAA8BzB,QAAQ,CAAC,KAAD,CAA5C;AACA,QAAM,CAAC0B,OAAD,EAAUC,UAAV,IAAwB3B,QAAQ,CAAC,KAAD,CAAtC;;AAEA,QAAM4B,YAAY,GAAGC,MAAM,IAAI;AAC3B,QAAI,CAACA,MAAM,CAACC,WAAZ,EAAyB;AAEzBP,IAAAA,MAAM,CAACQ,WAAP,CAAmB1B,OAAO,CAACiB,KAAK,CAACU,QAAP,EAAiBC,KAAK,IAAI;AAChD,YAAM,CAACC,aAAD,IAAkBD,KAAK,CAACE,MAAN,CAAaN,MAAM,CAACO,MAAP,CAAcC,KAA3B,EAAkC,CAAlC,CAAxB;AACAJ,MAAAA,KAAK,CAACE,MAAN,CAAaN,MAAM,CAACC,WAAP,CAAmBO,KAAhC,EAAuC,CAAvC,EAA0CH,aAA1C;AACH,KAHyB,CAA1B;AAIH,GAPD;;AASA,QAAMI,YAAY,GAAIC,GAAD,IAAS;AAC1B,wBACI;AAAK,MAAA,SAAS,EAAC,iBAAf;AACI,MAAA,OAAO,EAAE,MAAM;AACXhB,QAAAA,MAAM,CAACiB,SAAP,CAAiBD,GAAjB;AACH,OAHL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAQH,GATD;;AAWA,QAAME,aAAa,GAAIJ,KAAD,IAAW;AAC7BK,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBN,KAArB;;AACA,QAAGA,KAAK,KAAK,CAAb,EAAe;AACXd,MAAAA,MAAM,CAACQ,WAAP,CAAmB,CACf,GAAGT,KAAK,CAACU,QAAN,CAAeY,KAAf,CAAqB,CAArB,EAAuBtB,KAAK,CAACU,QAAN,CAAea,MAAtC,CADY,CAAnB;AAGH;;AAAA,QAAGR,KAAK,KAAKf,KAAK,CAACU,QAAN,CAAea,MAA5B,EAAmC;AAChCtB,MAAAA,MAAM,CAACQ,WAAP,CAAmB,CACf,GAAGT,KAAK,CAACU,QAAN,CAAeY,KAAf,CAAqB,CAArB,EAAuBP,KAAK,GAAC,CAA7B,CADY,CAAnB;AAGH,KAJA,MAII;AACDd,MAAAA,MAAM,CAACQ,WAAP,CAAmB,CACf,GAAGT,KAAK,CAACU,QAAN,CAAeY,KAAf,CAAqB,CAArB,EAAuBP,KAAvB,CADY,EAEf,GAAGf,KAAK,CAACU,QAAN,CAAeY,KAAf,CAAqBP,KAAK,GAAC,CAA3B,EAA8Bf,KAAK,CAACU,QAAN,CAAea,MAA7C,CAFY,CAAnB;AAIH;AACJ,GAhBD;;AAkBA,QAAMC,gBAAgB,GAAG,CAACC,OAAD,EAAUV,KAAV,KAAoB;AACzCd,IAAAA,MAAM,CAACQ,WAAP,CAAmB,CACf,GAAGT,KAAK,CAACU,QAAN,CAAeY,KAAf,CAAqB,CAArB,EAAuBP,KAAvB,CADY,EAEfU,OAFe,EAGf,GAAGzB,KAAK,CAACU,QAAN,CAAeY,KAAf,CAAqBP,KAArB,EAA4Bf,KAAK,CAACU,QAAN,CAAea,MAA3C,CAHY,CAAnB;AAKH,GAND;;AAQA,sBACI;AAAA,4BACI;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAII;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,wBAAf;AAAwC,QAAA,KAAK,EAAE;AAACG,UAAAA,eAAe,EAAE,GAAExC,MAAO;AAA3B,SAA/C;AAAA,+BACI;AAAK,UAAA,SAAS,EAAC,0CAAf;AAAA,kCACI;AAAK,YAAA,SAAS,EAAC,MAAf;AAAA,oCACI;AAAK,cAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAII;AAAA,qCACI;AAAO,gBAAA,IAAI,EAAC,UAAZ;AAAuB,gBAAA,OAAO,EAAEU,IAAI,CAAC+B,GAArC;AAA0C,gBAAA,KAAK,EAAE/B,IAAI,CAAC+B,GAAtD;AAA2D,gBAAA,QAAQ,EAAEC,CAAC,IAAI/B,OAAO,CAACd,OAAO,CAACa,IAAD,EAAOe,KAAK,IAAI;AACrGA,kBAAAA,KAAK,CAACgB,GAAN,GAAY,CAAC/B,IAAI,CAAC+B,GAAlB;AACH,iBAFwF,CAAR;AAAjF;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAWI;AAAK,YAAA,SAAS,EAAC,OAAf;AAAA,sBACKX,YAAY,CAAC,EAAD;AADjB;AAAA;AAAA;AAAA;AAAA,kBAXJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ,eAkBI;AAAI,QAAA,SAAS,EAAC;AAAd;AAAA;AAAA;AAAA;AAAA,cAlBJ,eAmBI,QAAC,eAAD;AAAiB,QAAA,SAAS,EAAEV,YAA5B;AAAA,+BACI,QAAC,SAAD;AAAW,UAAA,WAAW,EAAC,YAAvB;AAAA,oBACMuB,QAAD,iBAEG;AAAK,YAAA,SAAS,EAAC,YAAf;AAAA,eACQA,QAAQ,CAACC,cADjB;AAEI,YAAA,GAAG,EAAED,QAAQ,CAACE,QAFlB;AAAA,uBAGK/B,KAAK,CAACU,QAAN,CAAesB,GAAf,CAAmB,CAACC,IAAD,EAAOlB,KAAP,KAAiB;AACjC,kCACI,QAAC,SAAD;AAAW,gBAAA,WAAW,EAAEmB,MAAM,CAACnB,KAAD,CAA9B;AAAmD,gBAAA,KAAK,EAAEA,KAA1D;AAAiE,gBAAA,KAAK,EAAE;AAACoB,kBAAAA,KAAK,EAAC;AAAP,iBAAxE;AAAA,0BACK,CAACN,QAAD,EAAWO,QAAX,KAAwB;AACrB,sCACI;AAAA,2CACI;AACI,sBAAA,SAAS,EAAC,wBADd;AAEI,sBAAA,GAAG,EAAEP,QAAQ,CAACE,QAFlB;AAAA,yBAGQF,QAAQ,CAACQ,eAHjB;AAAA,yBAIQR,QAAQ,CAACS,cAJjB;AAMI,sBAAA,KAAK,EAAEnD,YAAY,CACnBiD,QAAQ,CAAChD,UADU,EAEnByC,QAAQ,CAACS,cAAT,CAAwBC,KAFL,CANvB;AAAA,6CAUQ;AAAK,wBAAA,SAAS,EAAC,0CAAf;AAAA,gDACI;AAAK,0BAAA,SAAS,EAAC,MAAf;AAAA,iDACI;AAAK,4BAAA,SAAS,EAAC,eAAf;AAAA,sCACKN,IAAI,CAACO;AADV;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gCADJ,eAMI;AAAK,0BAAA,SAAS,EAAC,OAAf;AAAA,qCACKxB,YAAY,CAACD,KAAD,CADjB,eAEI;AAAK,4BAAA,SAAS,EAAC,wBAAf;AACI,4BAAA,OAAO,EAAE,MAAM;AACX,oCAAM0B,GAAG,GAAGC,MAAM,CAACC,OAAP,CAAe,cAAf,CAAZ;;AACA,kCAAGF,GAAH,EAAO;AACHtB,gCAAAA,aAAa,CAACJ,KAAD,CAAb;AACH;AACJ,6BANL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAFJ,eAWI;AAAK,4BAAA,SAAS,EAAC,iBAAf;AACI,4BAAA,OAAO,EAAE,MAAMS,gBAAgB,CAACxB,KAAK,CAACU,QAAN,CAAeK,KAAf,CAAD,EAAwBA,KAAxB,CADnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAXJ;AAAA;AAAA;AAAA;AAAA;AAAA,gCANJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAVR;AAAA;AAAA;AAAA;AAAA;AADJ,mCADJ;AA0CE;AA5CV,iBAA4CA,KAA5C;AAAA;AAAA;AAAA;AAAA,sBADJ;AAgDH,aAjDA,CAHL,EAqDKc,QAAQ,CAACe,WArDd;AAAA;AAAA;AAAA;AAAA;AAAA;AAHR;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAnBJ,eAkFI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA,+BACI;AAAK,UAAA,SAAS,EAAC,qBAAf;AAAqC,UAAA,OAAO,EAAE,MAAM;AAChDvC,YAAAA,UAAU,CAAC,IAAD,CAAV,CADgD,CAEhD;AACH,WAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAlFJ,eA0FI;AAAI,QAAA,SAAS,EAAC;AAAd;AAAA;AAAA;AAAA;AAAA,cA1FJ,eA2FI;AAAK,QAAA,SAAS,EAAC,wBAAf;AAAwC,QAAA,KAAK,EAAE;AAACqB,UAAAA,eAAe,EAAE,GAAExC,MAAO;AAA3B,SAA/C;AAAA,+BACI;AAAK,UAAA,SAAS,EAAC,0CAAf;AAAA,kCACI;AAAK,YAAA,SAAS,EAAC,MAAf;AAAA,oCACI;AAAK,cAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAII;AAAA,qCACI;AAAO,gBAAA,IAAI,EAAC,UAAZ;AAAuB,gBAAA,OAAO,EAAEY,IAAI,CAAC6B,GAArC;AAA0C,gBAAA,KAAK,EAAE7B,IAAI,CAAC6B,GAAtD;AAA2D,gBAAA,QAAQ,EAAEC,CAAC,IAAI7B,OAAO,CAAChB,OAAO,CAACe,IAAD,EAAOa,KAAK,IAAI;AACrGA,kBAAAA,KAAK,CAACgB,GAAN,GAAY,CAAC7B,IAAI,CAAC6B,GAAlB;AACH,iBAFwF,CAAR;AAAjF;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAWI;AAAK,YAAA,SAAS,EAAC,OAAf;AAAA,sBACKX,YAAY,CAAC,EAAD;AADjB;AAAA;AAAA;AAAA;AAAA,kBAXJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cA3FJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAJJ,eA2HI,QAAC,aAAD;AAAe,MAAA,IAAI,EAAEZ,OAArB;AAA8B,MAAA,OAAO,EAAEC;AAAvC;AAAA;AAAA;AAAA;AAAA,YA3HJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AA+HH;;GAlLQV,Y;;KAAAA,Y;AAoLT,eAAeA,YAAf","sourcesContent":["import React, {useContext, useState} from 'react';\nimport { MyContext } from '../../../../pages/Make/MakePageV2';\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport produce from 'immer';\nimport ConfirmCustom from '../../../../tools/ConfirmCustom';\nimport AddingSection from '../../Modal/AddingSection';\nimport './EditContents.css';\n\nconst BCOLOR = 'rgba(230,230,230,0.8)'\n\nconst getItemStyle = (isDragging, draggableStyle, backColor) => {\n    return {\n        userSelect: \"none\",\n        textAlign: \"right\",\n\n        // change background color if dragging\n        background: isDragging ? \"white\" : BCOLOR,\n        boxShadow: isDragging ? \"2px 2px 3px rgba(0,0,0,0.2)\" : 'none',\n\n        // styles we need to apply on draggables\n        ...draggableStyle\n    };\n};\n\nfunction EditContents({navi, setNavi, foot, setFoot}) {\n    const {state, action} = useContext(MyContext) //ContextAPI로 state와 action을 넘겨받는다.\n    const [deleteopen, setDeleteOpen] = useState(false);\n    const [addOpen, setAddOpen] = useState(false);\n\n    const handleChange = result => {\n        if (!result.destination) return;\n\n        action.setContents(produce(state.contents, draft => {\n            const [reorderedItem] = draft.splice(result.source.index, 1);\n            draft.splice(result.destination.index, 0, reorderedItem);\n        }));\n    }\n\n    const optionButton = (num) => {\n        return(\n            <div className=\"content__button\"\n                onClick={() => {\n                    action.setSecNum(num)\n                }}>\n                설정\n            </div>\n        )\n    }\n\n    const deleteSection = (index) => {\n        console.log(\"index\", index);\n        if(index === 0){\n            action.setContents([\n                ...state.contents.slice(1,state.contents.length)\n            ])\n        }if(index === state.contents.length){\n            action.setContents([\n                ...state.contents.slice(0,index-1),\n            ])\n        }else{\n            action.setContents([\n                ...state.contents.slice(0,index),\n                ...state.contents.slice(index+1, state.contents.length)\n            ])\n        }\n    }\n\n    const pasteThisSection = (content, index) => {\n        action.setContents([\n            ...state.contents.slice(0,index),\n            content,\n            ...state.contents.slice(index, state.contents.length)\n        ])\n    }\n\n    return (\n        <div>\n            <div className=\"edit-element\">\n                컨텐츠 수정\n            </div>\n            <div>\n                <div className=\"one-contents-draggable\" style={{backgroundColor:`${BCOLOR}`}}>\n                    <div className=\"center-row hoverback one-contents__inner\">\n                        <div className=\"left\">\n                            <div className=\"content__name\">\n                                네비 바\n                            </div>\n                            <div>\n                                <input type=\"checkbox\" checked={navi.use} value={navi.use} onChange={e => setNavi(produce(navi, draft => {\n                                    draft.use = !navi.use\n                                })) } />\n                            </div>\n                        </div>\n                        <div className=\"right\">\n                            {optionButton(50)}\n                        </div>\n                    </div>   \n                </div>\n                <hr className=\"hr\" />\n                <DragDropContext onDragEnd={handleChange}>\n                    <Droppable droppableId=\"sectionsss\">\n                        {(provided) => \n                            (\n                            <div className=\"sectionsss\"\n                                {...provided.droppableProps}\n                                ref={provided.innerRef}>\n                                {state.contents.map((item, index) => {\n                                    return(\n                                        <Draggable draggableId={String(index)} key={index} index={index} style={{width:'100%'}}>\n                                            {(provided, snapshot) => {\n                                                return(\n                                                    <>\n                                                        <div\n                                                            className=\"one-contents-draggable\"\n                                                            ref={provided.innerRef}\n                                                            {...provided.dragHandleProps}\n                                                            {...provided.draggableProps}\n\n                                                            style={getItemStyle(\n                                                            snapshot.isDragging,\n                                                            provided.draggableProps.style,\n                                                            )}>\n                                                                <div className=\"center-row hoverback one-contents__inner\">\n                                                                    <div className=\"left\">\n                                                                        <div className=\"content__name\">\n                                                                            {item.sectionTypeName}\n                                                                        </div>\n                                                                    </div>\n                                                                    <div className=\"right\">\n                                                                        {optionButton(index)}\n                                                                        <div className=\"content__button delete\"\n                                                                            onClick={() => {\n                                                                                const yes = window.confirm(\"정말 삭제하시겠습니까?\");\n                                                                                if(yes){\n                                                                                    deleteSection(index);\n                                                                                }\n                                                                            } }>\n                                                                            삭제\n                                                                        </div>\n                                                                        <div className=\"content__button\"\n                                                                            onClick={() => pasteThisSection(state.contents[index], index) }>\n                                                                            복제\n                                                                        </div>\n                                                                    </div>\n                                                                </div>   \n                                                        </div>\n                                                        {/* <div className=\"centera small-button__container\">\n                                                            <span className=\"centera make-section-button__small\">\n                                                                +\n                                                            </span>\n                                                        </div> */}\n                                                    </>\n                                                )}}\n                                        </Draggable>\n                                    )\n                                })}\n                                {provided.placeholder}\n                            </div>\n                            )\n                        }\n                    </Droppable>\n                </DragDropContext>\n                <div className=\"center-row\">\n                    <div className=\"make-section-button\" onClick={() => {\n                        setAddOpen(true);\n                        // action.setAddingSectionAt(state.contents.length - 1);\n                    }}>\n                        + 섹션 추가하기\n                    </div>\n                </div>\n                <hr className=\"hr\" />\n                <div className=\"one-contents-draggable\" style={{backgroundColor:`${BCOLOR}`}}>\n                    <div className=\"center-row hoverback one-contents__inner\">\n                        <div className=\"left\">\n                            <div className=\"content__name\">\n                                푸터 바\n                            </div>\n                            <div>\n                                <input type=\"checkbox\" checked={foot.use} value={foot.use} onChange={e => setFoot(produce(foot, draft => {\n                                    draft.use = !foot.use\n                                })) } />\n                            </div>\n                        </div>\n                        <div className=\"right\">\n                            {optionButton(51)}\n                        </div>\n                    </div>   \n                </div>\n\n                {/* <span className=\"make-section-button\" style={{display:`${isHover}`}} onClick={() => {\n                    if(state.addingSectionAt === index){\n                        action.setAddingSectionAt(1000);\n                    }else{\n                        action.setAddingSectionAt(index)\n                    }\n                }}>\n                {parseInt(state.addingSectionAt) === parseInt(index) ? <>- 섹션 제거하기</> : <>+ 섹션 추가하기</>}\n                </span> */}\n            </div>\n            <AddingSection open={addOpen} setOpen={setAddOpen} />\n        </div>\n    )\n}\n\nexport default EditContents\n"]},"metadata":{},"sourceType":"module"}