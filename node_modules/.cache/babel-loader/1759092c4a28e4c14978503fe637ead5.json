{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nvar _excluded = [\"prefixCls\", \"className\", \"hsva\", \"background\", \"bgProps\", \"innerProps\", \"radius\", \"width\", \"height\", \"direction\", \"style\", \"onChange\", \"pointer\"];\nimport React, { useCallback } from 'react';\nimport { hsvaToHslaString } from '@uiw/color-convert';\nimport Interactive from '@uiw/react-drag-event-interactive';\nimport { Pointer } from './Pointer';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var BACKGROUND_IMG = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==';\nvar Aplha = /*#__PURE__*/React.forwardRef((props, ref) => {\n  var {\n    prefixCls = 'w-color-alpha',\n    className,\n    hsva,\n    background,\n    bgProps = {},\n    innerProps = {},\n    radius = 0,\n    width,\n    height = 16,\n    direction = 'horizontal',\n    style,\n    onChange,\n    pointer\n  } = props,\n      other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var handleChange = useCallback(offset => {\n    onChange && onChange(_extends({}, hsva, {\n      a: direction === 'horizontal' ? offset.left : offset.top\n    }), offset);\n  }, [hsva]);\n  var colorTo = hsvaToHslaString(Object.assign({}, hsva, {\n    a: 1\n  }));\n  var innerBackground = \"linear-gradient(to \" + (direction === 'horizontal' ? 'right' : 'bottom') + \", rgba(244, 67, 54, 0) 0%, \" + colorTo + \" 100%)\";\n  var comProps = {};\n\n  if (direction === 'horizontal') {\n    comProps.left = hsva.a * 100 + \"%\";\n  } else {\n    comProps.top = hsva.a * 100 + \"%\";\n  }\n\n  return /*#__PURE__*/_jsxs(\"div\", _extends({}, other, {\n    className: [prefixCls, prefixCls + \"-\" + direction, className || ''].filter(Boolean).join(' '),\n    style: _extends({\n      borderRadius: radius,\n      background: \"url(\" + BACKGROUND_IMG + \") left center\",\n      backgroundColor: '#fff'\n    }, style, {\n      position: 'relative'\n    }, {\n      width,\n      height\n    }),\n    ref: ref,\n    children: [/*#__PURE__*/_jsx(\"div\", _extends({}, bgProps, {\n      style: _extends({\n        inset: 0,\n        position: 'absolute',\n        background: background || innerBackground,\n        borderRadius: radius\n      }, bgProps.style)\n    })), /*#__PURE__*/_jsx(Interactive, _extends({}, innerProps, {\n      style: _extends({}, innerProps.style, {\n        inset: 0,\n        zIndex: 1,\n        position: 'absolute'\n      }),\n      onMove: handleChange,\n      onDown: handleChange,\n      children: /*#__PURE__*/React.createElement(pointer || Pointer, _extends({\n        prefixCls\n      }, comProps))\n    }))]\n  }));\n});\nAplha.displayName = 'Aplha';\nexport default Aplha;","map":{"version":3,"sources":["../src/index.tsx"],"names":["BACKGROUND_IMG","Aplha","prefixCls","bgProps","innerProps","radius","height","direction","pointer","other","handleChange","useCallback","offset","onChange","a","top","colorTo","hsvaToHslaString","innerBackground","comProps","hsva","className","borderRadius","background","backgroundColor","position","inset","zIndex"],"mappings":"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","sourcesContent":["import React, { useCallback } from 'react';\nimport { HsvaColor, hsvaToHslaString } from '@uiw/color-convert';\nimport Interactive, { Interaction } from '@uiw/react-drag-event-interactive';\nimport { Pointer, PointerProps } from './Pointer';\n\nexport interface AlphaProps extends Omit<React.HTMLAttributes<HTMLDivElement>, 'onChange'> {\n  prefixCls?: string;\n  /** String, Pixel value for picker width. Default `316px` */\n  width?: React.CSSProperties['width'];\n  /** String, Pixel value for picker height. Default `16px` */\n  height?: React.CSSProperties['height'];\n  /** hsva => `{ h: 0, s: 75, v: 82, a: 1 }` */\n  hsva: HsvaColor;\n  /** React Component, Custom pointer component */\n  pointer?: ({ prefixCls, left }: PointerProps) => JSX.Element;\n  /** Set rounded corners. */\n  radius?: React.CSSProperties['borderRadius'];\n  /** Set the background color. */\n  background?: string;\n  /** Set the background element props. */\n  bgProps?: React.HTMLAttributes<HTMLDivElement>;\n  /** Set the interactive element props. */\n  innerProps?: React.HTMLAttributes<HTMLDivElement>;\n  /** String Enum, horizontal or vertical. Default `horizontal` */\n  direction?: 'vertical' | 'horizontal';\n  onChange?: (newAlpha: { a: number }, offset: Interaction) => void;\n}\n\nexport const BACKGROUND_IMG =\n  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==';\n\nconst Aplha = React.forwardRef<HTMLDivElement, AlphaProps>((props, ref) => {\n  const {\n    prefixCls = 'w-color-alpha',\n    className,\n    hsva,\n    background,\n    bgProps = {},\n    innerProps = {},\n    radius = 0,\n    width,\n    height = 16,\n    direction = 'horizontal',\n    style,\n    onChange,\n    pointer,\n    ...other\n  } = props;\n\n  const handleChange = useCallback(\n    (offset: Interaction) => {\n      onChange && onChange({ ...hsva, a: direction === 'horizontal' ? offset.left : offset.top }, offset);\n    },\n    [hsva],\n  );\n\n  const colorTo = hsvaToHslaString(Object.assign({}, hsva, { a: 1 }));\n  const innerBackground = `linear-gradient(to ${\n    direction === 'horizontal' ? 'right' : 'bottom'\n  }, rgba(244, 67, 54, 0) 0%, ${colorTo} 100%)`;\n  const comProps: { left?: string; top?: string } = {};\n  if (direction === 'horizontal') {\n    comProps.left = `${hsva.a * 100}%`;\n  } else {\n    comProps.top = `${hsva.a * 100}%`;\n  }\n\n  return (\n    <div\n      {...other}\n      className={[prefixCls, `${prefixCls}-${direction}`, className || ''].filter(Boolean).join(' ')}\n      style={{\n        borderRadius: radius,\n        background: `url(${BACKGROUND_IMG}) left center`,\n        backgroundColor: '#fff',\n        ...style,\n        position: 'relative',\n        ...{ width, height },\n      }}\n      ref={ref}\n    >\n      <div\n        {...bgProps}\n        style={{\n          inset: 0,\n          position: 'absolute',\n          background: background || innerBackground,\n          borderRadius: radius,\n          ...bgProps.style,\n        }}\n      />\n      <Interactive\n        {...innerProps}\n        style={{\n          ...innerProps.style,\n          inset: 0,\n          zIndex: 1,\n          position: 'absolute',\n        }}\n        onMove={handleChange}\n        onDown={handleChange}\n      >\n        {React.createElement(pointer || Pointer, {\n          prefixCls,\n          ...comProps,\n        })}\n      </Interactive>\n    </div>\n  );\n});\n\nAplha.displayName = 'Aplha';\n\nexport default Aplha;\n"]},"metadata":{},"sourceType":"module"}