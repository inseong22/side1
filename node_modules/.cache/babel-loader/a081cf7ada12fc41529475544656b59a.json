{"ast":null,"code":"var _jsxFileName = \"/Users/oyejin/Surfee/kiwi/src/pages/Login/Login/LoginPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport './LoginRegister.css';\nimport { authService } from '../../../tools/fbase';\nimport { firebaseInstance } from '../../../tools/fbase';\nimport { dbService } from '../../../tools/fbase';\nimport { Input } from 'antd';\nimport googlelogo from '../googlelogo.png';\nimport s1 from '../../../tools/img/surfee1.png';\nimport Footer from '../../NavAndFooter/Footer';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction LoginPage({\n  history\n}) {\n  _s();\n\n  const [id, setId] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [done, setDone] = useState(false);\n\n  const socialLogin = async e => {\n    const {\n      target: {\n        name\n      }\n    } = e;\n    let provider; // if (name === \"googleLogin\"){\n\n    provider = new firebaseInstance.auth.GoogleAuthProvider(); // }else{\n    //     console.log(\"이건 뜨면 안되는 메세지.\");\n    // }\n\n    const data = await authService.signInWithPopup(provider);\n    await checkRegister(data.user.multiFactor.user.email);\n    history.push('/');\n    history.go();\n  };\n\n  const submit = async e => {\n    var data = '';\n    e.preventDefault();\n\n    try {\n      data = await authService.signInWithEmailAndPassword(id, password);\n      checkRegister(data.user.multiFactor.user.email);\n    } catch (err) {\n      console.log(err);\n    }\n\n    console.log(data);\n  };\n\n  const checkRegister = async email => {\n    const usersCollections = await dbService.collection(\"users\").where(\"email\", \"==\", email).get();\n    const usersExist = usersCollections.docs.map(doc => {\n      return { ...doc.data(),\n        id: doc.id\n      };\n    });\n    console.log(\"일단 로그인 성공\", email, usersExist);\n\n    if (usersExist.length === 0) {\n      // 구글 아이디로 로그인했는데 회원가입에 정보가 없을 때\n      console.log(\"회원가입 정보를 받습니다.\");\n      setDone(true);\n    } else {\n      console.log(\"로그인 완료\");\n      localStorage.setItem(\"name\", usersExist[0].name);\n      localStorage.setItem(\"job\", usersExist[0].job);\n      history.push('/');\n      history.go();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: done ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Initializing...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login-container__container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"login__inner\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"login-title\",\n              style: {\n                color: '#6a63f7'\n              },\n              children: \"Surfee\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"login-title\",\n              children: \"\\uB85C\\uADF8\\uC778 \\uD398\\uC774\\uC9C0\\uC5D0 \\uC624\\uC2E0 \\uAC83\\uC744 \\uD658\\uC601\\uD569\\uB2C8\\uB2E4.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: e => submit(e),\n              className: \"center\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"login-label\",\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"text\",\n                className: \"login-input\",\n                placeholder: \"\\uC544\\uC774\\uB514\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",\n                required: true,\n                value: id,\n                onChange: e => setId(e.currentTarget.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"login-label\",\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"password\",\n                className: \"login-input\",\n                placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",\n                required: true,\n                value: password,\n                onChange: e => setPassword(e.currentTarget.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                className: \"login-form-button\",\n                type: \"submit\",\n                value: \"\\uB85C\\uADF8\\uC778\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"google-login-button\",\n              name: \"googleLogin\",\n              onClick: e => socialLogin(e),\n              style: {\n                marginTop: '2%'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: googlelogo,\n                width: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  marginLeft: '5%'\n                },\n                children: \"\\uAD6C\\uAE00 \\uB85C\\uADF8\\uC778\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: '2% 0%',\n                justifyContent: 'flex-start',\n                display: 'flex',\n                width: '100%'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                to: \"/customer\",\n                className: \"footer-text-click\",\n                children: \"\\uAC1C\\uC778\\uC815\\uBCF4 \\uCC98\\uB9AC\\uBC29\\uCE68\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/customer\",\n                className: \"footer-text-click\",\n                style: {\n                  marginLeft: '2%'\n                },\n                children: \"\\uC774\\uC6A9\\uC57D\\uAD00\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login-background\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: s1,\n            width: 600\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"login-background__desc\",\n            style: {\n              fontFamily: 'Pretendard-ExtraBold',\n              marginTop: '2%'\n            },\n            children: \"Surfee\\uC640 \\uD568\\uAED8 1\\uBD84\\uB9CC\\uC5D0 \\uC644\\uC131\\uD558\\uB294 \\uB79C\\uB529\\uD398\\uC774\\uC9C0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"login-background__desc\",\n            children: \"Surfee\\uC640 \\uD568\\uAED8 1\\uBD84\\uB9CC\\uC5D0 \\uC644\\uC131\\uD558\\uB294 \\uB79C\\uB529\\uD398\\uC774\\uC9C0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(LoginPage, \"Wx5pFf0HjTK4IOJR5m89buNZguA=\");\n\n_c = LoginPage;\nexport default LoginPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"sources":["/Users/oyejin/Surfee/kiwi/src/pages/Login/Login/LoginPage.js"],"names":["React","useState","useEffect","authService","firebaseInstance","dbService","Input","googlelogo","s1","Footer","Link","LoginPage","history","id","setId","password","setPassword","done","setDone","socialLogin","e","target","name","provider","auth","GoogleAuthProvider","data","signInWithPopup","checkRegister","user","multiFactor","email","push","go","submit","preventDefault","signInWithEmailAndPassword","err","console","log","usersCollections","collection","where","get","usersExist","docs","map","doc","length","localStorage","setItem","job","color","currentTarget","value","marginTop","marginLeft","padding","justifyContent","display","width","fontFamily"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport './LoginRegister.css'\nimport { authService } from '../../../tools/fbase'\nimport { firebaseInstance } from '../../../tools/fbase'\nimport { dbService } from '../../../tools/fbase'\nimport { Input } from 'antd';\nimport googlelogo from '../googlelogo.png'\nimport s1 from '../../../tools/img/surfee1.png';\nimport Footer from '../../NavAndFooter/Footer';\nimport {Link} from 'react-router-dom';\n\nfunction LoginPage({history}) {\n    const [id, setId] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [done, setDone] = useState(false);\n\n    const socialLogin = async (e) => {\n        const { \n            target : { name }, \n        } = e;\n        let provider;\n        // if (name === \"googleLogin\"){\n        provider = new firebaseInstance.auth.GoogleAuthProvider();\n        // }else{\n        //     console.log(\"이건 뜨면 안되는 메세지.\");\n        // }\n\n        const data = await authService.signInWithPopup(provider);\n        await checkRegister(data.user.multiFactor.user.email);\n        history.push('/');\n        history.go();\n    }\n\n    const submit = async (e) => {\n        var data = '';\n        e.preventDefault();\n        try{\n            data = await authService.signInWithEmailAndPassword(\n                id, password\n            )\n            checkRegister(data.user.multiFactor.user.email)\n        } catch (err){\n            console.log(err)\n        }\n        console.log(data)\n    }\n\n    const checkRegister = async (email) => {\n        const usersCollections = await dbService\n            .collection(\"users\")\n            .where(\"email\", \"==\", email)\n            .get();\n        \n        const usersExist = usersCollections.docs.map(doc => {\n            return({...doc.data(), id: doc.id})\n        })\n\n        console.log(\"일단 로그인 성공\", email, usersExist)\n\n\n        if(usersExist.length === 0){\n            // 구글 아이디로 로그인했는데 회원가입에 정보가 없을 때\n            console.log(\"회원가입 정보를 받습니다.\");\n            setDone(true);\n        }else{\n            console.log(\"로그인 완료\");\n            localStorage.setItem(\"name\", usersExist[0].name);\n            localStorage.setItem(\"job\", usersExist[0].job);\n\n            history.push('/');\n            history.go();\n        }\n    }\n\n    return (\n        <>\n        {done ? \n        <div>\n            Initializing... \n            {/* 여기에 회원가입 페이지랑 똑같이 입력받는걸 넣어야 하는 건가..? */}\n        </div>\n        :\n        <div>\n        <div className=\"login-container\">\n            <div className=\"login-container__container\">\n                <div className=\"login__inner\">\n                    <div className=\"login-title\" style={{color:'#6a63f7'}}>\n                        Surfee\n                    </div>\n                    <div className=\"login-title\">\n                        로그인 페이지에 오신 것을 환영합니다.\n                    </div>\n                    <form onSubmit={e => submit(e)} className=\"center\">\n                        <span className=\"login-label\">\n                            Email\n                        </span>\n                        <Input \n                            type=\"text\" \n                            className=\"login-input\"\n                            placeholder=\"아이디를 입력해주세요.\" \n                            required\n                            value={id}   \n                            onChange={e => setId(e.currentTarget.value)}\n                        />\n                        <span className=\"login-label\">\n                            Password\n                        </span>\n                        <Input  \n                            type=\"password\" \n                            className=\"login-input\"\n                            placeholder=\"비밀번호를 입력해주세요.\" \n                            required\n                            value={password} \n                            onChange={e => setPassword(e.currentTarget.value)}\n                        />\n                        <Input className=\"login-form-button\" type=\"submit\" value=\"로그인\" />\n                    </form>\n                    <button className=\"google-login-button\" name=\"googleLogin\" onClick={e => socialLogin(e)} style={{marginTop:'2%'}}>\n                        <img src={googlelogo} width={20}/>\n                        <span style={{marginLeft:'5%'}}>구글 로그인</span>\n                    </button>\n                    <div style={{padding:'2% 0%', justifyContent:'flex-start', display:'flex', width:'100%'}}>\n                        <Link to=\"/customer\" className=\"footer-text-click\">\n                            개인정보 처리방침\n                        </Link>\n                        <Link to=\"/customer\" className=\"footer-text-click\" style={{marginLeft:'2%'}}>\n                            이용약관\n                        </Link>\n                    </div>\n                </div>\n            </div>\n            <div className=\"login-background\">\n                <img src={s1} width={600} />\n                <div className=\"login-background__desc\" style={{fontFamily:'Pretendard-ExtraBold', marginTop:'2%'}}>\n                    Surfee와 함께 1분만에 완성하는 랜딩페이지\n                </div>\n                <div className=\"login-background__desc\">\n                    Surfee와 함께 1분만에 완성하는 랜딩페이지\n                </div>\n            </div>\n        </div>\n        <Footer />\n        </div>\n     }</>\n        \n    )\n}\n\nexport default LoginPage\n"]},"metadata":{},"sourceType":"module"}