{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nvar _excluded = [\"prefixCls\", \"className\", \"style\", \"onChange\", \"color\", \"colors\"];\nimport React, { useCallback } from 'react';\nimport { color as handleColor, hexToHsva, validHex, hsvaToHex, getContrastingColor } from '@uiw/color-convert';\nimport EditableInput from '@uiw/react-color-editable-input';\nimport RGBA from '@uiw/react-color-editable-input-rgba';\nimport Swatch from '@uiw/react-color-swatch';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar COLORS = ['#4D4D4D', '#999999', '#FFFFFF', '#F44E3B', '#FE9200', '#FCDC00', '#DBDF00', '#A4DD00', '#68CCCA', '#73D8FF', '#AEA1FF', '#FDA1FF', '#333333', '#808080', '#cccccc', '#D33115', '#E27300', '#FCC400', '#B0BC00', '#68BC00', '#16A5A5', '#009CE0', '#7B64FF', '#FA28FF', '#000000', '#666666', '#B3B3B3', '#9F0500', '#C45100', '#FB9E00', '#808900', '#194D33', '#0C797D', '#0062B1', '#653294', '#AB149E'];\n\nfunction Point(props) {\n  if (!props.checked) return null;\n  return /*#__PURE__*/_jsx(\"div\", {\n    style: {\n      height: 5,\n      width: 5,\n      borderRadius: '50%',\n      backgroundColor: getContrastingColor(props.color)\n    }\n  });\n}\n\nvar Compact = /*#__PURE__*/React.forwardRef((props, ref) => {\n  var {\n    prefixCls = 'w-color-compact',\n    className,\n    style,\n    onChange,\n    color,\n    colors = COLORS\n  } = props,\n      other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var hsva = typeof color === 'string' && validHex(color) ? hexToHsva(color) : color;\n  var hex = color ? hsvaToHex(hsva).replace(/^#/, '') : '';\n  var handleChangeCallback = useCallback(hsv => onChange && onChange(handleColor(hsv)), []);\n\n  var handleHex = (value, evn) => {\n    if (typeof value === 'string' && validHex(value) && /(3|6)/.test(String(value.length))) {\n      handleChangeCallback(hexToHsva(value));\n    }\n  };\n\n  var rgbProps = {\n    style: {\n      alignItems: 'baseline'\n    },\n    inputStyle: {\n      boxShadow: 'none',\n      backgroundColor: 'transparent',\n      outline: 0\n    }\n  };\n  return /*#__PURE__*/_jsxs(\"div\", _extends({\n    ref: ref,\n    style: _extends({\n      background: '#f6f6f6',\n      borderRadius: 3,\n      display: 'flex',\n      width: 240,\n      flexWrap: 'wrap',\n      paddingTop: 5,\n      paddingLeft: 5\n    }, style),\n    className: [prefixCls, className || ''].filter(Boolean).join(' ')\n  }, other, {\n    children: [/*#__PURE__*/_jsx(Swatch, {\n      colors: colors,\n      color: color ? hsvaToHex(hsva) : undefined,\n      rectProps: {\n        children: /*#__PURE__*/_jsx(Point, {}),\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center'\n        }\n      },\n      onChange: hsvColor => handleChangeCallback(hsvColor)\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      style: {\n        display: 'flex',\n        margin: '0 4px 3px 0'\n      },\n      children: [/*#__PURE__*/_jsx(EditableInput, {\n        onChange: (evn, val) => handleHex(val, evn),\n        labelStyle: {\n          paddingRight: 5,\n          marginTop: -1\n        },\n        value: hex.toLocaleUpperCase(),\n        label: /*#__PURE__*/_jsx(\"div\", {\n          style: {\n            width: 8,\n            height: 8,\n            backgroundColor: \"#\" + hex\n          }\n        }),\n        inputStyle: {\n          outline: 'none',\n          boxShadow: 'initial',\n          background: 'transparent'\n        },\n        style: {\n          flexDirection: 'row-reverse',\n          flex: '1 1 0%',\n          minWidth: 80\n        }\n      }), /*#__PURE__*/_jsx(RGBA, {\n        hsva: hsva,\n        placement: \"left\",\n        onChange: result => handleChangeCallback(result.hsva),\n        aProps: false,\n        rProps: rgbProps,\n        gProps: rgbProps,\n        bProps: rgbProps\n      })]\n    })]\n  }));\n});\nCompact.displayName = 'Compact';\nexport default Compact;","map":{"version":3,"sources":["../src/index.tsx"],"names":["color","COLORS","props","height","width","borderRadius","backgroundColor","getContrastingColor","Compact","prefixCls","colors","other","hsva","validHex","hexToHsva","hex","hsvaToHex","handleChangeCallback","useCallback","hsv","onChange","handleColor","handleHex","String","value","rgbProps","style","alignItems","inputStyle","boxShadow","outline","background","display","flexWrap","paddingTop","paddingLeft","className","children","justifyContent","hsvColor","margin","paddingRight","marginTop","flexDirection","flex","minWidth","result"],"mappings":"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","sourcesContent":["import React, { useCallback } from 'react';\nimport {\n  ColorResult,\n  color as handleColor,\n  hexToHsva,\n  validHex,\n  HsvaColor,\n  hsvaToHex,\n  getContrastingColor,\n} from '@uiw/color-convert';\nimport EditableInput from '@uiw/react-color-editable-input';\nimport RGBA from '@uiw/react-color-editable-input-rgba';\nimport Swatch from '@uiw/react-color-swatch';\n\nexport interface CompactProps<T> extends Omit<React.HTMLAttributes<HTMLDivElement>, 'onChange' | 'color'> {\n  prefixCls?: string;\n  color?: string | HsvaColor;\n  colors?: string[];\n  onChange?: (color: ColorResult, evn?: T) => void;\n}\n\nconst COLORS = [\n  '#4D4D4D',\n  '#999999',\n  '#FFFFFF',\n  '#F44E3B',\n  '#FE9200',\n  '#FCDC00',\n  '#DBDF00',\n  '#A4DD00',\n  '#68CCCA',\n  '#73D8FF',\n  '#AEA1FF',\n  '#FDA1FF',\n  '#333333',\n  '#808080',\n  '#cccccc',\n  '#D33115',\n  '#E27300',\n  '#FCC400',\n  '#B0BC00',\n  '#68BC00',\n  '#16A5A5',\n  '#009CE0',\n  '#7B64FF',\n  '#FA28FF',\n  '#000000',\n  '#666666',\n  '#B3B3B3',\n  '#9F0500',\n  '#C45100',\n  '#FB9E00',\n  '#808900',\n  '#194D33',\n  '#0C797D',\n  '#0062B1',\n  '#653294',\n  '#AB149E',\n];\n\nfunction Point(props: { color?: string; checked?: boolean }) {\n  if (!props.checked) return null;\n  return (\n    <div\n      style={{\n        height: 5,\n        width: 5,\n        borderRadius: '50%',\n        backgroundColor: getContrastingColor(props.color!),\n      }}\n    />\n  );\n}\n\nconst Compact = React.forwardRef<HTMLDivElement, CompactProps<React.MouseEvent<HTMLDivElement, MouseEvent>>>((props, ref) => {\n  const { prefixCls = 'w-color-compact', className, style, onChange, color, colors = COLORS, ...other } = props;\n  const hsva = (typeof color === 'string' && validHex(color) ? hexToHsva(color) : color) as HsvaColor;\n  const hex = color ? hsvaToHex(hsva).replace(/^#/, '') : '';\n  const handleChangeCallback = useCallback((hsv: HsvaColor) => onChange && onChange(handleColor(hsv)), []);\n  const handleHex = (value: string | number, evn: React.ChangeEvent<HTMLInputElement>) => {\n    if (typeof value === 'string' && validHex(value) && /(3|6)/.test(String(value.length))) {\n      handleChangeCallback(hexToHsva(value));\n    }\n  };\n  const rgbProps = {\n    style: {\n      alignItems: 'baseline',\n    },\n    inputStyle: { boxShadow: 'none', backgroundColor: 'transparent', outline: 0 },\n  };\n  return (\n    <div\n      ref={ref}\n      style={{\n        background: '#f6f6f6',\n        borderRadius: 3,\n        display: 'flex',\n        width: 240,\n        flexWrap: 'wrap',\n        paddingTop: 5,\n        paddingLeft: 5,\n        ...style,\n      }}\n      className={[prefixCls, className || ''].filter(Boolean).join(' ')}\n      {...other}\n    >\n      <Swatch\n        colors={colors}\n        color={color ? hsvaToHex(hsva) : undefined}\n        rectProps={{\n          children: <Point />,\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n          },\n        }}\n        onChange={(hsvColor) => handleChangeCallback(hsvColor)}\n      />\n      <div style={{ display: 'flex', margin: '0 4px 3px 0' }}>\n        <EditableInput\n          onChange={(evn, val) => handleHex(val, evn)}\n          labelStyle={{ paddingRight: 5, marginTop: -1 }}\n          value={hex.toLocaleUpperCase()}\n          label={<div style={{ width: 8, height: 8, backgroundColor: `#${hex}` }} />}\n          inputStyle={{\n            outline: 'none',\n            boxShadow: 'initial',\n            background: 'transparent',\n          }}\n          style={{\n            flexDirection: 'row-reverse',\n            flex: '1 1 0%',\n            minWidth: 80,\n          }}\n        />\n        <RGBA\n          hsva={hsva}\n          placement=\"left\"\n          onChange={(result) => handleChangeCallback(result.hsva)}\n          aProps={false}\n          rProps={rgbProps}\n          gProps={rgbProps}\n          bProps={rgbProps}\n        />\n      </div>\n    </div>\n  );\n});\n\nCompact.displayName = 'Compact';\n\nexport default Compact;\n"]},"metadata":{},"sourceType":"module"}