{
  "version": 3,
  "sources": [
    "../src/index.tsx"
  ],
  "names": [
    "React",
    "useRef",
    "useState",
    "useCallback",
    "useEffect",
    "isTouch",
    "preventDefaultMove",
    "getRelativePosition",
    "useEventCallback",
    "Interactive",
    "forwardRef",
    "props",
    "ref",
    "prefixCls",
    "className",
    "onMove",
    "onDown",
    "reset",
    "container",
    "hasTouched",
    "isDragging",
    "setDragging",
    "onMoveCallback",
    "onKeyCallback",
    "isValid",
    "event",
    "current",
    "handleMove",
    "isDown",
    "touches",
    "length",
    "buttons",
    "handleMoveEnd",
    "toggleDocumentEvents",
    "state",
    "toggleEvent",
    "window",
    "addEventListener",
    "removeEventListener",
    "handleMoveStart",
    "nativeEvent",
    "filter",
    "Boolean",
    "join",
    "style",
    "touchAction",
    "displayName"
  ],
  "mappings": "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",
  "sourcesContent": [
    "import React, { useRef, useState, useCallback, useEffect } from 'react';\nimport { isTouch, preventDefaultMove, getRelativePosition, Interaction, useEventCallback } from './utils';\n\nexport * from './utils';\n\nexport interface InteractiveProps extends React.HTMLAttributes<HTMLDivElement> {\n  prefixCls?: string;\n  onMove?: (interaction: Interaction, event: MouseEvent | TouchEvent) => void;\n  onDown?: (offset: Interaction, event: MouseEvent | TouchEvent) => void;\n}\n\nconst Interactive = React.forwardRef<HTMLDivElement, InteractiveProps>((props, ref) => {\n  const { prefixCls = 'w-color-interactive', className, onMove, onDown, ...reset } = props;\n  const container = useRef<HTMLDivElement>(null);\n  const hasTouched = useRef(false);\n  const [isDragging, setDragging] = useState(false);\n  const onMoveCallback = useEventCallback<Interaction, MouseEvent | TouchEvent>(onMove);\n  const onKeyCallback = useEventCallback<Interaction, MouseEvent | TouchEvent>(onDown);\n\n  // Prevent mobile browsers from handling mouse events (conflicting with touch ones).\n  // If we detected a touch interaction before, we prefer reacting to touch events only.\n  const isValid = (event: MouseEvent | TouchEvent): boolean => {\n    if (hasTouched.current && !isTouch(event)) return false;\n    hasTouched.current = isTouch(event);\n    return true;\n  };\n\n  const handleMove = useCallback(\n    (event: MouseEvent | TouchEvent) => {\n      preventDefaultMove(event);\n      // If user moves the pointer outside of the window or iframe bounds and release it there,\n      // `mouseup`/`touchend` won't be fired. In order to stop the picker from following the cursor\n      // after the user has moved the mouse/finger back to the document, we check `event.buttons`\n      // and `event.touches`. It allows us to detect that the user is just moving his pointer\n      // without pressing it down\n      const isDown = isTouch(event) ? event.touches.length > 0 : event.buttons > 0;\n      if (isDown && container.current) {\n        onMoveCallback && onMoveCallback(getRelativePosition(container.current!, event), event);\n      } else {\n        setDragging(false);\n      }\n    },\n    [onMoveCallback],\n  );\n\n  const handleMoveEnd = useCallback(() => setDragging(false), []);\n  const toggleDocumentEvents = useCallback((state: boolean) => {\n    const toggleEvent = state ? window.addEventListener : window.removeEventListener;\n    toggleEvent(hasTouched.current ? 'touchmove' : 'mousemove', handleMove);\n    toggleEvent(hasTouched.current ? 'touchend' : 'mouseup', handleMoveEnd);\n  }, []);\n\n  useEffect(() => {\n    toggleDocumentEvents(isDragging);\n    return () => {\n      isDragging && toggleDocumentEvents(false);\n    };\n  }, [isDragging, toggleDocumentEvents]);\n\n  const handleMoveStart = useCallback(\n    (event: React.MouseEvent | React.TouchEvent) => {\n      preventDefaultMove(event.nativeEvent);\n      if (!isValid(event.nativeEvent)) return;\n      onKeyCallback && onKeyCallback(getRelativePosition(container.current!, event.nativeEvent), event.nativeEvent);\n      setDragging(true);\n    },\n    [onKeyCallback],\n  );\n\n  return (\n    <div\n      {...reset}\n      className={[prefixCls, className || ''].filter(Boolean).join(' ')}\n      style={{\n        ...reset.style,\n        touchAction: 'none',\n      }}\n      ref={container}\n      tabIndex={0}\n      onMouseDown={handleMoveStart}\n      onTouchStart={handleMoveStart}\n    />\n  );\n});\n\nInteractive.displayName = 'Interactive';\n\nexport default Interactive;\n"
  ]
}